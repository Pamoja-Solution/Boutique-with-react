import{j as s,$ as d,Y as l}from"./app-CVfpLxnC.js";import{A as r}from"./AuthenticatedLayout-Be91C7bU.js";import{F as i}from"./ArrowLeftIcon-bxR8zlD-.js";import"./Dropdown-CnaEg3C2.js";import"./Actif-DjeZulS0.js";import"./index-DiaNWib8.js";function j({client:a,stats:t}){return s.jsxs(r,{children:[s.jsx(d,{title:`Statistiques - ${a.name}`}),s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(l,{href:route("clients.stats"),className:"btn btn-ghost mr-4",children:s.jsx(i,{className:"h-5 w-5"})}),s.jsx("h1",{className:"text-2xl font-bold",children:a?"Voir les détails":"Créer une nouvelle catégorie"})]}),s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:a.name}),s.jsxs("div",{className:"flex gap-4 mt-2",children:[s.jsx("span",{className:`badge ${a.type==="entreprise"?"badge-primary":a.type==="regulier"?"badge-secondary":"badge-accent"}`,children:a.type}),a.email&&s.jsx("span",{className:"badge badge-outline",children:a.email}),a.phone&&s.jsx("span",{className:"badge badge-outline",children:a.phone})]})]}),s.jsx("div",{className:"stats shadow",children:s.jsxs("div",{className:"stat",children:[s.jsx("div",{className:"stat-title",children:"Points fidélité"}),s.jsx("div",{className:"stat-value",children:a.solde_points})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx("div",{className:"card bg-base-100 shadow",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h2",{className:"card-title",children:"Total Ventes"}),s.jsx("p",{className:"text-4xl font-bold",children:t.total_ventes})]})}),s.jsx("div",{className:"card bg-base-100 shadow",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h2",{className:"card-title",children:"Chiffre d'Affaires"}),s.jsxs("p",{className:"text-4xl font-bold",children:[t.total_ttc.toFixed(2)," FC"]})]})}),s.jsx("div",{className:"card bg-base-100 shadow",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h2",{className:"card-title",children:"Panier Moyen"}),s.jsxs("p",{className:"text-4xl font-bold",children:[t.moyenne_vente.toFixed(2)," FC"]})]})})]}),s.jsx("div",{className:"card bg-base-100 shadow mb-8",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h2",{className:"card-title mb-4",children:"Dernières ventes"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Date"}),s.jsx("th",{children:"N° Vente"}),s.jsx("th",{children:"Caissier"}),s.jsx("th",{className:"text-right",children:"Montant TTC"}),s.jsx("th",{className:"text-right",children:"Statut"})]})}),s.jsx("tbody",{children:t.dernieres_ventes.map(e=>s.jsxs("tr",{children:[s.jsx("td",{children:new Date(e.created_at).toLocaleDateString()}),s.jsx("td",{children:e.code}),s.jsx("td",{children:e.user.name}),s.jsxs("td",{className:"text-right",children:[e.total_ttc.toFixed(2)," FC"]}),s.jsx("td",{className:"text-right",children:s.jsx("span",{className:`badge ${e.statut==="terminee"?"badge-success":e.statut==="annulee"?"badge-error":"badge-warning"}`,children:e.statut})})]},e.id))})]})})]})}),s.jsx("div",{className:"card bg-base-100 shadow",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h2",{className:"card-title mb-4",children:"Produits fréquemment achetés"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Produit"}),s.jsx("th",{className:"text-right",children:"Quantité"}),s.jsx("th",{className:"text-right",children:"Montant TTC"})]})}),s.jsx("tbody",{children:t.produits_frequents.map(e=>s.jsxs("tr",{children:[s.jsx("td",{children:e.produit.nom}),s.jsx("td",{className:"text-right",children:e.total_quantite}),s.jsxs("td",{className:"text-right",children:[e.total_ttc.toFixed(2)," FC"]})]},e.produit_id))})]})})]})})]})]})}export{j as default};
