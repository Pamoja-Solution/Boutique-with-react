import{j as e,$ as l,Y as r}from"./app-BvN2VGK2.js";import{A as n}from"./AuthenticatedLayout-CofPKvkG.js";import{P as c}from"./Pagination-CNAEPksZ.js";import"./Actif-CGR9bzdf.js";import"./index-CQxxDfE9.js";function o(s){return{stock_alerte:"bg-error/10 border-error/20",vente:"bg-success/10 border-success/20",user_login:"bg-info/10 border-info/20",new_user:"bg-warning/10 border-warning/20"}[s]||"bg-base-200 border-base-300"}function i(s){return{stock_alerte:"bg-error text-error-content",vente:"bg-success text-success-content",user_login:"bg-info text-info-content",new_user:"bg-warning text-warning-content"}[s]||"bg-primary text-primary-content"}function d(s){switch(s.type){case"stock_alerte":return e.jsx(r,{href:`/produits/${s.data.produit_id}`,className:"btn btn-outline btn-error btn-sm",children:"Voir le produit"});case"vente":return e.jsx("a",{href:`/ventes/${s.data.vente_id}/ticket`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-outline btn-success btn-sm",children:"Voir la vente"});case"user_login":case"new_user":return e.jsx(r,{href:`/users/${s.data.user_id}/edit`,className:"btn btn-outline btn-info btn-sm",children:"Voir l'utilisateur"});default:return null}}function w({notifications:s}){const a=t=>({stock_alerte:'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" /></svg>',vente:'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>',user_login:'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" /></svg>',new_user:'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 7a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V7z" /></svg>'})[t]||'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" /></svg>';return e.jsxs(n,{children:[e.jsx(l,{title:"Notifications"}),e.jsx("div",{className:"py-6 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-base-100 rounded-box shadow-lg p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Mes Notifications"}),e.jsxs(r,{href:route("notifications.read-all"),method:"post",as:"button",className:"btn btn-primary btn-sm",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Tout marquer comme lu"]})]}),e.jsx("div",{className:"space-y-3",children:s.data.length>0?s.data.map(t=>e.jsx("div",{className:`card card-compact border transition-all duration-200 ${t.read_at?"opacity-70":"shadow-md"} ${o(t.type)}`,children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`flex-shrink-0 ${i(t.type)} rounded-full p-3`,children:e.jsx("span",{className:"text-xl",dangerouslySetInnerHTML:{__html:a(t.type)}})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"card-title text-lg",children:t.data.message}),e.jsx("div",{className:"text-sm text-gray-500 mb-2",children:new Date(t.created_at).toLocaleString("fr-FR",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}),e.jsx("div",{className:"card-actions justify-end",children:d(t)})]}),!t.read_at&&e.jsx("div",{className:"flex-shrink-0 ",children:e.jsxs(r,{href:route("notifications.read",t.id),method:"post",as:"button",className:"btn  btn-accent",title:"Marquer comme lu",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Marquer comme lu"]})})]})})},t.id)):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})}),e.jsx("p",{className:"text-gray-500 text-lg",children:"Aucune notification disponible"})]})}),s.data.length>0&&e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsx(c,{links:s.links,className:"join",activeClassName:"btn-active"})})]})})})]})}export{w as default};
