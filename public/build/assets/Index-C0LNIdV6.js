import{v as d,j as e,q as m,$ as h}from"./app-CFD2f151.js";import{I as l}from"./InputLabel-rEEfSgZe.js";import{T as c,I as n}from"./TextInput-BX8wZIt5.js";import{c as u}from"./index-B9tAU3jH.js";import{A as j}from"./AuthenticatedLayout-Ddn20-Xk.js";import"./Actif-BSdadqrY.js";function p(){const s=d({code:"",symbole:"",taux_achat:"",taux_vente:"",is_default:!1}),r=a=>{a.preventDefault(),s.post(route("currencies.store"),{preserveScroll:!0,onSuccess:()=>{},onError:()=>{u.error("Une erreur")}})};return e.jsxs("form",{onSubmit:r,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"form-control",children:[e.jsx(l,{htmlFor:"code",value:"Nom"}),e.jsx(c,{id:"code",type:"text",name:"code",placeholder:"Franc Congolais",value:s.code,className:"input input-bordered mt-1 block w-full",autoComplete:"code",isFocused:!0,onChange:a=>s.setData("code",a.target.value)}),e.jsx(n,{message:s.errors.code,className:"mt-2"})]}),e.jsxs("div",{className:"form-control",children:[e.jsx(l,{htmlFor:"symbole",value:"Symbole"}),e.jsx(c,{id:"symbole",type:"text",name:"symbole",placeholder:"FC",value:s.symbole,className:"input input-bordered mt-1 block w-full",autoComplete:"symbole",isFocused:!0,onChange:a=>s.setData("symbole",a.target.value)}),e.jsx(n,{message:s.errors.symbole,className:"mt-2"})]}),e.jsxs("div",{className:"form-control",children:[e.jsx(l,{htmlFor:"taux_vente",value:"Prix de Vente"}),e.jsx(c,{id:"taux_vente",type:"text",placeholder:"2940",name:"taux_vente",value:s.taux_vente,className:"input input-bordered mt-1 block w-full",autoComplete:"taux_vente",isFocused:!0,onChange:a=>s.setData("taux_vente",a.target.value)}),e.jsx(n,{message:s.errors.taux_vente,className:"mt-2"})]}),e.jsxs("div",{className:"form-control",children:[e.jsx(l,{htmlFor:"taux_achat",value:"Prix d'Achat"}),e.jsx(c,{id:"taux_achat",type:"text",name:"taux_achat",placeholder:"2840",value:s.taux_achat,className:"input input-bordered mt-1 block w-full",autoComplete:"taux_achat",isFocused:!0,onChange:a=>s.setData("taux_achat",a.target.value)}),e.jsx(n,{message:s.errors.taux_achat,className:"mt-2"})]}),e.jsx("div",{className:"modal-action",children:e.jsx("button",{type:"submit",className:"btn btn-primary hover:bg-primary-focus transition-all duration-200",disabled:s.processing,children:s.processing?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"loading loading-spinner"}),"Enregistrement..."]}):"Enregistrer"})})]}),s.errors.content&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.errors.content})]})}function _({devises:s}){const{put:r}=d(),{auth:a}=m().props,{user:o}=a,i=t=>{confirm("Désactiver cette Monnaie ?")&&r(route("currencies.desactivate",t))},x=t=>{r(route("currencies.restore",t))};return e.jsxs(j,{children:[e.jsx(h,{title:"Point de Vente"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.role==="admin"&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"card bg-base-100 shadow-xl",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h2",{className:"card-title",children:"Nouvelle Devise "}),e.jsx("span",{className:"text-xs",children:"(les Prix dependent du dollars)"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsx(p,{})})]})})}),e.jsx("div",{className:"card bg-base-100 shadow-xl",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h2",{className:"card-title",children:"Taux"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table table-zebra table-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Client"}),e.jsx("th",{children:"Achats"}),e.jsx("th",{children:"Valeur"})]})}),e.jsx("tbody",{children:s.data.map(t=>e.jsxs("tr",{children:[e.jsxs("td",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"avatar placeholder",children:e.jsx("div",{className:"bg-neutral text-neutral-content w-6 h-6 rounded-full",children:e.jsx("span",{className:"text-xs",children:t.symbole})})}),e.jsx("span",{children:t.code})]}),e.jsx("td",{children:t.taux_achat}),e.jsx("td",{children:"1$"})]}))})]})})]})})]}),e.jsx("div",{className:"container",children:e.jsxs("table",{className:"table table-zebra table-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Nom"}),e.jsx("th",{children:"Symbole"}),e.jsx("th",{children:"taux Ac"}),e.jsx("th",{children:"taux Ven"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:s.data.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:t.code}),e.jsx("td",{children:t.symbole}),e.jsx("td",{children:t.taux_achat}),e.jsx("td",{children:t.taux_vente}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.is_default?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-green-600",children:"Actif"}),a.user.permissions.users.delete&&e.jsx("button",{onClick:()=>i(o.id),className:"ml-2 text-red-600 hover:text-red-800",children:"Désactiver"})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-red-600",children:"Inactif "}),a.user.permissions.users.restore&&e.jsx("button",{onClick:()=>x(t.id),className:"ml-2 text-green-600 hover:text-green-800",children:"Réactiver"})]})})]}))})]})})]})}export{_ as default};
