import{r as b,q as j,v as d,j as e,$ as g,Y as n}from"./app-C6qsucit.js";import"./index-Bk9xLtwu.js";import{T as t,I as l}from"./TextInput-BNG67Zqc.js";import{I as o}from"./InputLabel-zrLFlqtv.js";import{P as u}from"./PrimaryButton-BkPQkc6i.js";function y(){const[i,c]=b.useState("login"),{auth:x}=j().props,{user:m}=x,r=d({email:"",password:"",remember:!1}),a=d({name:"",email:"",password:"",password_confirmation:""}),p=s=>{s.preventDefault(),r.post(route("login"),{onFinish:()=>r.reset("password")})},h=s=>{s.preventDefault(),a.post(route("register"),{onFinish:()=>a.reset("password","password_confirmation")})};return e.jsxs(e.Fragment,{children:[e.jsx(g,{title:"Accueil - Ma Boutique"}),e.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-base-100 p-4",children:e.jsxs("div",{className:"w-full max-w-md bg-base-200 rounded-lg shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"tabs tabs-boxed bg-base-300 justify-center p-2",children:[e.jsx("button",{className:`tab ${i==="login"?"tab-active":""}`,onClick:()=>c("login"),children:"Connexion"}),!m&&e.jsx("button",{className:`tab ${i==="register"?"tab-active":""}`,onClick:()=>c("register"),children:"Inscription"})]}),e.jsx("div",{className:"p-6",children:m?e.jsxs("div",{className:"text-center",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Bienvenue, ",m.name,"!"]}),e.jsx("p",{className:"mb-6",children:"Vous êtes connecté à votre espace boutique."}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(n,{href:route("dashboard"),className:"btn btn-primary",children:"Tableau de bord"}),e.jsx(n,{href:route("logout"),method:"post",as:"button",className:"btn btn-ghost",children:"Déconnexion"})]})]}):i==="login"?e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{htmlFor:"email",value:"Email"}),e.jsx(t,{id:"email",type:"email",className:"mt-1 block w-full",value:r.data.email,onChange:s=>r.setData("email",s.target.value),required:!0,autoFocus:!0}),e.jsx(l,{message:r.errors.email,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{htmlFor:"password",value:"Mot de passe"}),e.jsx(t,{id:"password",type:"password",className:"mt-1 block w-full",value:r.data.password,onChange:s=>r.setData("password",s.target.value),required:!0}),e.jsx(l,{message:r.errors.password,className:"mt-2"})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"remember",checked:r.data.remember,onChange:s=>r.setData("remember",s.target.checked),className:"checkbox checkbox-primary checkbox-sm"}),e.jsx("span",{className:"ml-2 text-sm",children:"Se souvenir de moi"})]})}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(u,{className:"w-full",disabled:r.processing,children:r.processing?"Connexion...":"Se connecter"}),e.jsx(n,{href:route("password.request"),className:"text-sm text-primary hover:underline text-center",children:"Mot de passe oublié?"})]})]}):e.jsxs("form",{onSubmit:h,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{htmlFor:"name",value:"Nom"}),e.jsx(t,{id:"name",type:"text",className:"mt-1 block w-full",value:a.data.name,onChange:s=>a.setData("name",s.target.value),required:!0,autoFocus:!0}),e.jsx(l,{message:a.errors.name,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{htmlFor:"email",value:"Email"}),e.jsx(t,{id:"email",type:"email",className:"mt-1 block w-full",value:a.data.email,onChange:s=>a.setData("email",s.target.value),required:!0}),e.jsx(l,{message:a.errors.email,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{htmlFor:"password",value:"Mot de passe"}),e.jsx(t,{id:"password",type:"password",className:"mt-1 block w-full",value:a.data.password,onChange:s=>a.setData("password",s.target.value),required:!0}),e.jsx(l,{message:a.errors.password,className:"mt-2"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx(o,{htmlFor:"password_confirmation",value:"Confirmer le mot de passe"}),e.jsx(t,{id:"password_confirmation",type:"password",className:"mt-1 block w-full",value:a.data.password_confirmation,onChange:s=>a.setData("password_confirmation",s.target.value),required:!0}),e.jsx(l,{message:a.errors.password_confirmation,className:"mt-2"})]}),e.jsx(u,{className:"w-full",disabled:a.processing,children:a.processing?"Inscription...":"S'inscrire"})]})})]})})]})}export{y as default};
